# general service properties
service:
  # name for service identification
  name: opcua-mcp150
  # protocols used for receiving and sending the data
  protocols:
    input: opcua
    output: mqtt

# definition of the data source
data-source:
  # identifier of the source
  name: mcp150
  # owner of the data source
  oranisation: eah-jena
  # information for establishing a connection to the data source
  connection:
    host: "10.130.2.195"
    port: 4840
    # security options defined by asyncua package
    security:
      # possible values: Basic128Rsa15, Basic256 or Basic256Sha256
      policy: Basic256Sha256
      # possible values: Sign or SignAndEncrypt
      mode: SignAndEncrypt

# definition of the data sink
data-sink:
  # identifier of the sink
  name: mqtt-broker
  # owner of the data sink
  organisation: eah-jena
  # information for esatblishing a connection to the data sink
  connection:
    host: "127.0.0.1"
    port: "1883"
    keepalive: 60

data-definition:
  namespaces:
    - name: unknown
      index: 2 
      viewed-nodes:
        - metric-name: temperature_polishing_agent_actual
          trivial-name: Temperatur-Istwert Poliermittel
          unit: Degrees Celsius
          node-id: /Plc/DB119.DBD292:REAL  
        - metric-name: working_pressure_actual
          trivial-name: Arbeitsdruck Istwert
          unit: Bar
          node-id: /Plc/DB119.DBD300:REAL
        - metric-name: working_pressure_setpoint
          trivial-name: Arbeitsdruck Sollwert
          unit: Bar
          node-id: /Plc/DB119.DBD316:REAL
        - metric-name: spindle_1_speed_actual
          trivial-name: Drehzahl Ist Spindel 1
          unit: U/min
          node-id: /Nck/Spindle/actSpeed[u1,4]
        - metric-name: spindle_1_speed_setpoint
          trivial-name: Drehzahl Soll Spindel 1
          unit: U/min
          node-id: /Nck/Spindle/cmdSpeed[u1,4]
        - metric-name: spindle_2_speed_actual
          trivial-name: Drehzahl Ist Spindel 2
          unit: U/min
          node-id: /Nck/Spindle/actSpeed[u1,5]
        - metric-name: spindle_2_speed_setpoint
          trivial-name: Drehzahl Soll Spindel 2
          unit: U/min
          node-id: /Nck/Spindle/cmdSpeed[u1,5]
        - metric-name: spindle_1_utilization
          trivial-name: Auslastung Spindel 1
          unit: Percent
          node-id: /Nck/Spindle/driveLoad[u1,4]
        - metric-name: spindle_2_utilization
          trivial-name: Auslastung Spindel 2
          unit: Percent
          node-id: /Nck/Spindle/driveLoad[u1,5]
        - metric-name: cycle_time
          trivial-name: Zykluszeit
          unit: Seconds
          node-id: /Channel/ChannelDiagnose/cycleTime
        - metric-name: remaining_time
          trivial-name: Restlaufzeit
          unit: Seconds
          node-id: /Channel/Parameter/R[99]
        - metric-name: active_operating_mode
          trivial-name: Aktive Betriebsart
          unit: Enum[JOG, MDA, AUTO]
          node-id: /Bag/State/opMode
        - metric-name: program_status
          trivial-name: Programmstatus
          unit: Enum[reset, stop, aktiv, waiting, interrupted]
          node-id: /Channel/State/acProg
        - metric-name: error_pending
          trivial-name: Fehler steht an
          unit: Enum[0, 1]
          node-id: /Plc/DB119.DBX206.1
        - metric-name: position_x_actual
          trivial-name: Istposition X
          unit: Milimeters
          node-id: /Channel/GeometricAxis/actProgPos[u1,1]
        - metric-name: position_y_actual
          trivial-name: Istposition Y
          unit: Milimeters
          node-id: /Channel/GeometricAxis/actProgPos[u1,2]
        - metric-name: position_z_actual
          trivial-name: Istposition Z
          unit: Milimeters
          node-id: /Channel/GeometricAxis/actProgPos[u1,3]
        - metric-name: position_a_actual
          trivial-name: Istposition A
          unit: Degrees
          node-id: /Channel/GeometricAxis/actProgPos[u1,9]
        - metric-name: position_b_actual
          trivial-name: Istposition B
          unit: Degrees
          node-id: /Channel/GeometricAxis/actProgPos[u1,11]
        - metric-name: spindle_2_position_actual
          trivial-name: Istposition Spindel 2
          unit: Degrees
          node-id: /Channel/MachineAxis/measPos2[u1,5]
        - metric-name: utilization_x
          trivial-name: Auslastung X
          unit: Percent
          node-id: /Nck/Spindle/driveLoad[u1,1]
        - metric-name: utilization_y
          trivial-name: Auslastung Y
          unit: Percent
          node-id: /Nck/Spindle/driveLoad[u1,2]
        - metric-name: utilization_z
          trivial-name: Auslastung Z
          unit: Percent
          node-id: /Nck/Spindle/driveLoad[u1,3]
        - metric-name: utilization_a
          trivial-name: Auslastung A
          unit: Percent
          node-id: /Nck/Spindle/driveLoad[u1,9]
        - metric-name: utilization_b
          trivial-name: Auslastung B
          unit: Percent
          node-id: /Nck/Spindle/driveLoad[u1,11]
        - metric-name: current_x
          trivial-name: Strom X
          unit: Ampere
          node-id: /Nck/MachineAxis/aaCurr[u1,1]
        - metric-name: current_y
          trivial-name: Strom Y
          unit: Ampere
          node-id: /Nck/MachineAxis/aaCurr[u1,2]
        - metric-name: current_z
          trivial-name: Strom Z
          unit: Ampere
          node-id: /Nck/MachineAxis/aaCurr[u1,3]
        - metric-name: spindle_1_current
          trivial-name: Strom Spindel 1
          unit: Ampere
          node-id: /Nck/MachineAxis/aaCurr[u1,4]
        - metric-name: spindle_2_current
          trivial-name: Strom Spindel 2
          unit: Ampere
          node-id: /Nck/MachineAxis/aaCurr[u1,5]
        - metric-name: current_a
          trivial-name: Strom A
          unit: Ampere
          node-id: /Nck/MachineAxis/aaCurr[u1,9]
        - metric-name: current_b
          trivial-name: Strom B
          unit: Ampere
          node-id: /Nck/MachineAxis/aaCurr[u1,11]
        - metric-name: feed_rate
          trivial-name: Vorschub
          unit: $ref:feed_unit
          node-id: /Channel/State/actFeedRateIpo
        - metric-name: override
          trivial-name: Override
          unit: Percent
          node-id: /Nck/MachineAxis/aaTotalOvr
        - metric-name: feed_unit
          trivial-name: Einheit des Vorschub
          unit: Enum[mm/min, mm/U]
          node-id: /Channel/State/feedRateIpoUnit